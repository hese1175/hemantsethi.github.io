<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="stylesheet" href="/assets/css/just-the-docs-default.css"><link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"><style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(2)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(2) > ul > li:nth-child(2) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(2) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(2) > ul > li:nth-child(2) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(2) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(2) > ul.nav-list > li.nav-list-item:nth-child(2) > ul.nav-list { display: block; }</style><script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Data Preparation/EDA | HS Website</title><meta name="generator" content="Jekyll v4.3.3" /><meta property="og:title" content="Data Preparation/EDA" /><meta property="og:locale" content="en_US" /><meta name="description" content="HS Website" /><meta property="og:description" content="HS Website" /><link rel="canonical" href="http://localhost:4000/docs/CSCI%205622%20-%20ML/data_prep/" /><meta property="og:url" content="http://localhost:4000/docs/CSCI%205622%20-%20ML/data_prep/" /><meta property="og:site_name" content="HS Website" /><meta property="og:type" content="website" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Data Preparation/EDA" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"HS Website","headline":"Data Preparation/EDA","url":"http://localhost:4000/docs/CSCI%205622%20-%20ML/data_prep/"}</script><body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><title id="svg-external-link-title">(external link)</title><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-copy" viewBox="0 0 16 16"><title>Copy</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"><title>Copied</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"><path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg><div class="side-bar"><div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> HS Website </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button></div><nav aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in CSCI 5622 - ML category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/CSCI%205622%20-%20ML/index-CSCI/" class="nav-list-link">CSCI 5622 - ML</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/CSCI%205622%20-%20ML/introduction/" class="nav-list-link">Introduction</a><li class="nav-list-item"><a href="/docs/CSCI%205622%20-%20ML/data_prep/" class="nav-list-link">Data Preparation/EDA</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Models/Methods category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/CSCI%205622%20-%20ML/models/index-models/" class="nav-list-link">Models/Methods</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/CSCI%205622%20-%20ML/models/pca/" class="nav-list-link">Principal Component Analysis <b>(PCA)</b></a><li class="nav-list-item"><a href="/docs/CSCI%205622%20-%20ML/models/clustering/" class="nav-list-link">Clustering</a><li class="nav-list-item"><a href="/docs/CSCI%205622%20-%20ML/models/arm/" class="nav-list-link">Association Rule Mining <b>(ARM)</b></a><li class="nav-list-item"><a href="/docs/CSCI%205622%20-%20ML/models/dt/" class="nav-list-link">Decision Trees <b>(DT)</b></a><li class="nav-list-item"><a href="/docs/CSCI%205622%20-%20ML/models/nb/" class="nav-list-link">Naive Bayes <b>(NB)</b></a><li class="nav-list-item"><a href="/docs/CSCI%205622%20-%20ML/models/svm/" class="nav-list-link">Support Vector Machines <b>(SVM)</b></a><li class="nav-list-item"><a href="/docs/CSCI%205622%20-%20ML/models/regression/" class="nav-list-link">Regression</a></ul><li class="nav-list-item"><a href="/docs/CSCI%205622%20-%20ML/conclusion/" class="nav-list-link">Conclusion</a></ul></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search" role="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search HS Website" aria-label="Search HS Website" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="https://github.com/hese1175/hese1175.github.io/" class="site-button" target="_blank" rel="noopener noreferrer" > HS Website on GitHub </a></ul></nav></div><div class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="/docs/CSCI%205622%20-%20ML/index-CSCI/">CSCI 5622 - ML</a><li class="breadcrumb-nav-list-item"><span>Data Preparation/EDA</span></ol></nav><div id="main-content" class="main-content"><main><h1 class="no_toc" id="data-preparationeda"> <a href="#data-preparationeda" class="anchor-heading" aria-labelledby="data-preparationeda"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Data Preparation/EDA</h1><ol id="markdown-toc"><li><a href="#introduction" id="markdown-toc-introduction">Introduction</a><li><a href="#data-gathering---newsapi" id="markdown-toc-data-gathering---newsapi">Data Gathering - NewsAPI</a><li><a href="#data-cleaning-and-visualization---newsapi" id="markdown-toc-data-cleaning-and-visualization---newsapi">Data Cleaning and Visualization - NewsAPI</a><li><a href="#data-cleaning---optidat-database" id="markdown-toc-data-cleaning---optidat-database">Data Cleaning - OptiDAT Database</a><li><a href="#prelim-exploratory-data-analysis---optidat-database" id="markdown-toc-prelim-exploratory-data-analysis---optidat-database">Prelim Exploratory Data Analysis - OptiDAT Database</a></ol><h2 id="introduction"> <a href="#introduction" class="anchor-heading" aria-labelledby="introduction"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Introduction</h2><p>The main data used for analysis is obtained from the <a href="https://web.archive.org/web/20180721153728/http://www.wmc.eu/optimatblades_optidat.php">OptiDAT Database</a>. This data contains information about the mechanical properties of different composite materials used in wind turbine blades. The data is in the form of an Excel file.</p><p>Furthermore, the <a href="https://newsapi.org/docs/endpoints/everything">NewsAPI</a> is used to scrape news articles about the wind energy sector. This data is used to analyze the current trends and show the growing importance of recyclability in the wind energy sector.</p><h2 id="data-gathering---newsapi"> <a href="#data-gathering---newsapi" class="anchor-heading" aria-labelledby="data-gathering---newsapi"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Data Gathering - NewsAPI</h2><p>The NewsAPI is used to gather news articles about the wind energy sector and analyze the trends over the last couple decades.</p><p>Here is the code that will be used to gather the articles:</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>

<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="c1"># Connecting to NewsAPI and getting data
</span><span class="n">end</span> <span class="o">=</span> <span class="s">'https://newsapi.org/v2/everything'</span> 
<span class="n">all_jsons</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">page</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">):</span> 
    <span class="n">URL_id</span> <span class="o">=</span> <span class="p">{</span><span class="s">'apiKey'</span> <span class="p">:</span> <span class="s">'de147731dffe48aa9effd3380691833b'</span><span class="p">,</span>
              <span class="s">'q'</span> <span class="p">:</span> <span class="s">'wind energy AND (recycle OR recycling OR recyclable OR recyclability)'</span><span class="p">,</span>
              <span class="s">'from'</span> <span class="p">:</span> <span class="s">'1990-01-01'</span><span class="p">,</span>
              <span class="s">'to'</span> <span class="p">:</span> <span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">().</span><span class="n">strftime</span><span class="p">(</span><span class="s">'%Y-%m-%d'</span><span class="p">),</span>
              <span class="s">'language'</span> <span class="p">:</span> <span class="s">'en'</span><span class="p">,</span>
              <span class="s">'pageSize'</span> <span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
              <span class="s">'page'</span> <span class="p">:</span> <span class="n">page</span>
              <span class="p">}</span>
    
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">end</span><span class="p">,</span> <span class="n">URL_id</span><span class="p">)</span>
    <span class="n">jsontxt</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">json</span><span class="p">()</span>
    
    <span class="n">all_jsons</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">jsontxt</span><span class="p">)</span>
</code></pre></div></div><p>Data from all 5 pages are gathered in a list that will be used to create a DataFrame of articles.</p><h2 id="data-cleaning-and-visualization---newsapi"> <a href="#data-cleaning-and-visualization---newsapi" class="anchor-heading" aria-labelledby="data-cleaning-and-visualization---newsapi"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Data Cleaning and Visualization - NewsAPI</h2><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Create a DataFrame from the articles
</span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">all_articles</span><span class="p">)</span>

<span class="c1"># Convert the publishedAt column to datetime
</span><span class="n">df</span><span class="p">[</span><span class="s">'publishedAt'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s">'publishedAt'</span><span class="p">])</span>

<span class="c1"># Extract the year from the publishedAt column
</span><span class="n">df</span><span class="p">[</span><span class="s">'year'</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s">'publishedAt'</span><span class="p">].</span><span class="n">dt</span><span class="p">.</span><span class="n">year</span>

<span class="c1"># Group by year and count the number of articles
</span><span class="n">trends</span> <span class="o">=</span> <span class="n">df</span><span class="p">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">'year'</span><span class="p">).</span><span class="n">size</span><span class="p">().</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">'article_count'</span><span class="p">)</span>

<span class="c1"># Plot the trends
</span><span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">ax</span><span class="p">.</span><span class="n">plot</span><span class="p">(</span><span class="n">trends</span><span class="p">[</span><span class="s">'year'</span><span class="p">],</span> <span class="n">trends</span><span class="p">[</span><span class="s">'article_count'</span><span class="p">],</span> <span class="n">marker</span><span class="o">=</span><span class="s">'o'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Trends in Wind Energy and Recyclability Articles (1990-Present)'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">'Year'</span><span class="p">)</span>
<span class="n">ax</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s">'Number of Articles'</span><span class="p">)</span>
</code></pre></div></div><p>This idea did not work as expected due to the restrictions on the free version of the NewsAPI platform. The oldest data available was from 8-17-2024 so only one month. In the next iteration, the data will be gathered from a different source so that the trends can be analyzed.</p><p>Regardless, the data from the OptiDAT database has been gathered, cleaned and run through a preliminary analysis as shown below.</p><h2 id="data-cleaning---optidat-database"> <a href="#data-cleaning---optidat-database" class="anchor-heading" aria-labelledby="data-cleaning---optidat-database"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Data Cleaning - OptiDAT Database</h2><p>The OptiDAT data is in the form of an Excel file. The main data is in the <em>OPTIMAT Database</em> sheetname. It consists of 93 columns and 3435 rows. The columns contain information about the material properties, such as density, tensile strength, compressive strength, etc. The rows contain data about different composite materials that were tested as part of the study.</p><p>Here is a snippet of the raw data: <img src="/assets/imgs/raw_data_screenshot.png" alt="Raw Data" /></p><p>Using python, the raw data is loaded into a pandas dataframe.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="n">sns</span>

<span class="n">file_name</span> <span class="o">=</span> <span class="s">'./data/Optidat_dataset.xls'</span>
<span class="n">loc</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">getcwd</span><span class="p">()</span>
<span class="n">file_loc</span> <span class="o">=</span> <span class="n">os</span><span class="p">.</span><span class="n">path</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">loc</span><span class="p">,</span><span class="n">file_name</span><span class="p">)</span>

<span class="n">raw_data</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">file_loc</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s">'OPTIMAT Database'</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="s">'Raw Data Info: </span><span class="se">\n</span><span class="s">'</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">raw_data</span><span class="p">.</span><span class="n">info</span><span class="p">())</span>
</code></pre></div></div><p>Here is a look at the data summary.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Raw Data Info: 

&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 3435 entries, 0 to 3434
Data columns (total 93 columns):
 #   Column                                Non-Null Count  Dtype         
---  ------                                --------------  -----         
 0   Optidat version: February 10, 2011    0 non-null      float64       
 1   optiDAT nr.                           3435 non-null   int64         
 2   Name                                  3435 non-null   object        
 3   Plate                                 3435 non-null   object        
 4   Fibre Volume Fraction                 3031 non-null   float64       
 5   Lab                                   3435 non-null   object        
 6   Laminate                              3435 non-null   object        
 7   Cut angle                             3435 non-null   object        
 8   Manufacturer                          3435 non-null   object        
 9   Geometry                              3435 non-null   object        
 10  Material                              3435 non-null   object        
 11  taverage                              3232 non-null   object        
 12  wmax                                  2084 non-null   float64       
 13  wmin                                  2814 non-null   float64       
 14  waverage                              3181 non-null   float64       
 15  area                                  3181 non-null   float64       
 16  Lnominal                              3435 non-null   object        
 17  Lmeasured                             836 non-null    float64       
 18  Lgauge                                2105 non-null   float64       
 19  Radius (waist)                        92 non-null     float64       
 20  TG and phase                          3435 non-null   object        
 21  Phase                                 3435 non-null   object        
 22  start date                            3253 non-null   datetime64[ns]
 23  end date                              3143 non-null   datetime64[ns]
 24  Test type                             3319 non-null   object        
 25  R-value1                              2003 non-null   object        
 26  Fmax                                  3256 non-null   float64       
 27  Ferror                                0 non-null      float64       
 28  Fstatic                               1788 non-null   float64       
 29  Ffatigue                              2045 non-null   float64       
 30  Fmax, 90°                             122 non-null    float64       
 31  epsmax                                1871 non-null   float64       
 32  epsstatic                             992 non-null    float64       
 33  epsfatigue                            977 non-null    float64       
 34  eps90°                                112 non-null    float64       
 35  eps45°                                136 non-null    float64       
 36  Nu                                    286 non-null    float64       
 37  smax                                  3035 non-null   float64       
 38  smax,static                           1627 non-null   float64       
 39  smax, fatigue                         1976 non-null   float64       
 40  shear strain                          95 non-null     float64       
 41  shear strength                        115 non-null    float64       
 42  shear modulus (near other moduli)     127 non-null    float64       
 43  Torquemax                             1311 non-null   float64       
 44  Torquefatigue                         50 non-null     float64       
 45  Torquestatic                          51 non-null     float64       
 46  Ncycles                               3300 non-null   object        
 47  level                                 1484 non-null   object        
 48  levelcalc                             1984 non-null   object        
 49  Nspectrum                             100 non-null    float64       
 50  failure mode                          1560 non-null   object        
 51  runout                                51 non-null     object        
 52  R-value2                              142 non-null    float64       
 53  Fmax2                                 221 non-null    float64       
 54  epsmax2                               87 non-null     float64       
 55  smax2                                 142 non-null    float64       
 56  Ncycles2                              141 non-null    float64       
 57  ratedisplacement                      1516 non-null   object        
 58  f                                     2038 non-null   object        
 59  f2                                    142 non-null    float64       
 60  Eit                                   1837 non-null   float64       
 61  Eic                                   1416 non-null   object        
 62  Eft                                   398 non-null    float64       
 63  Efc                                   168 non-null    float64       
 64  Elur,front                            9 non-null      object        
 65  Elur, back                            9 non-null      object        
 66  eps_max_t                             1096 non-null   float64       
 67  eps_max_c                             700 non-null    float64       
 68  Machine                               3345 non-null   object        
 69  control                               3125 non-null   object        
 70  grip                                  3108 non-null   object        
 71  ABG                                   2574 non-null   object        
 72  Temp.                                 718 non-null    object        
 73  Temp. control                         1779 non-null   object        
 74  Environment                           3435 non-null   object        
 75  Reference document                    2552 non-null   object        
 76  Remarks                               1847 non-null   object        
 77  Invalid                               165 non-null    object        
 78  Bending                               167 non-null    object        
 79  Buckling                              55 non-null     object        
 80  Overheating                           28 non-null     object        
 81  Tab failure                           262 non-null    object        
 82  Delaminated                           22 non-null     object        
 83  Incomplete measurement data           207 non-null    object        
 84  Strain from E                         29 non-null     object        
 85  LUR                                   217 non-null    object        
 86  TEC                                   50 non-null     float64       
 87  data delivered under name             803 non-null    object        
 88  Repair characteristics                167 non-null    object        
 89  Strain measurement equipment (long)   2209 non-null   object        
 90  Strain measurement equipment (short)  2225 non-null   object        
 91  Grip pressure                         1876 non-null   object        
 92  time per test                         2909 non-null   float64       
 dtypes: datetime64[ns](2), float64(43), int64(1), object(47)
</code></pre></div></div><p>Now, the data is cleaned by removing columns that are not needed for analysis. The columns are removed as follows:</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Remove whitespace leading and trailing column names
</span><span class="n">data</span><span class="p">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">.</span><span class="n">strip</span><span class="p">(),</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
 
<span class="n">column_list</span> <span class="o">=</span> <span class="p">[</span><span class="s">'Name'</span><span class="p">,</span> <span class="s">'Fibre Volume Fraction'</span><span class="p">,</span> <span class="s">'Material'</span><span class="p">,</span><span class="s">'Test type'</span><span class="p">,</span> 
               <span class="s">'smax,static'</span><span class="p">,</span><span class="s">'smax, fatigue'</span><span class="p">,</span><span class="s">'epsstatic'</span><span class="p">,</span><span class="s">'epsfatigue'</span><span class="p">,</span>
               <span class="s">'Ncycles'</span><span class="p">,</span><span class="s">'Eit'</span><span class="p">,</span><span class="s">'Eic'</span><span class="p">,</span>
               <span class="s">'Invalid'</span><span class="p">,</span><span class="s">'Incomplete measurement data'</span><span class="p">]</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="nb">filter</span><span class="p">(</span><span class="n">column_list</span><span class="p">)</span>
<span class="n">data</span><span class="p">.</span><span class="n">info</span><span class="p">()</span>
</code></pre></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 3435 entries, 0 to 3434
Data columns (total 13 columns):
 #   Column                       Non-Null Count  Dtype  
---  ------                       --------------  -----  
 0   Name                         3435 non-null   object 
 1   Fibre Volume Fraction        3031 non-null   float64
 2   Material                     3435 non-null   object 
 3   Test type                    3319 non-null   object 
 4   smax,static                  1627 non-null   float64
 5   smax, fatigue                1976 non-null   float64
 6   epsstatic                    992 non-null    float64
 7   epsfatigue                   977 non-null    float64
 8   Ncycles                      3300 non-null   object 
 9   Eit                          1837 non-null   float64
 10  Eic                          1416 non-null   object 
 11  Invalid                      165 non-null    object 
 12  Incomplete measurement data  207 non-null    object 
dtypes: float64(6), object(7)
</code></pre></div></div><p>Two important columns to easily remove data is by looking at the Invalid data column and the Incomplete measurement data column. If the data is invalid or incomplete, it is removed from the dataset. Also, rows that do not have a designated test type are removed.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Remove rows for data that is Invalid
</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s">'Invalid'</span><span class="p">].</span><span class="n">isna</span><span class="p">()]</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Total Invalid Data:'</span><span class="p">,</span><span class="n">data</span><span class="p">[</span><span class="s">'Invalid'</span><span class="p">].</span><span class="n">notna</span><span class="p">().</span><span class="nb">sum</span><span class="p">())</span>

<span class="c1"># Remove rows for data that is Incomplete
</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s">'Incomplete measurement data'</span><span class="p">].</span><span class="n">isna</span><span class="p">()]</span>
<span class="k">print</span><span class="p">(</span><span class="s">'Total Incomplete measurement Data:'</span><span class="p">,</span><span class="n">data</span><span class="p">[</span><span class="s">'Incomplete measurement data'</span><span class="p">].</span><span class="n">notna</span><span class="p">().</span><span class="nb">sum</span><span class="p">())</span>

<span class="c1"># Drop the two columns
</span><span class="n">data</span><span class="p">.</span><span class="n">drop</span><span class="p">([</span><span class="s">'Invalid'</span><span class="p">,</span><span class="s">'Incomplete measurement data'</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c1"># Remove rows that do not have a test type
</span><span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s">'Test type'</span><span class="p">].</span><span class="n">notna</span><span class="p">()]</span>
<span class="n">data</span><span class="p">.</span><span class="n">info</span><span class="p">()</span>
</code></pre></div></div><p>Here is the current state of columns and data types:</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
Index: 3068 entries, 0 to 3433
Data columns (total 11 columns):
 #   Column                 Non-Null Count  Dtype  
---  ------                 --------------  -----  
 0   Name                   3068 non-null   object 
 1   Fibre Volume Fraction  2729 non-null   float64
 2   Material               3068 non-null   object 
 3   Test type              3068 non-null   object 
 4   smax,static            1518 non-null   float64
 5   smax, fatigue          1752 non-null   float64
 6   epsstatic              961 non-null    float64
 7   epsfatigue             927 non-null    float64
 8   Ncycles                2983 non-null   object 
 9   Eit                    1759 non-null   float64
 10  Eic                    1336 non-null   object 
dtypes: float64(6), object(5)
</code></pre></div></div><p>Now we correct the data types for the columns. The Name column is temporarily left as an object dtype. More on this will be discussed later. The Test type and Material columns are also converted to a category data type. Finally, the Ncycles and Eic columns are to be converted to a float data type.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Change data types
</span><span class="n">data</span><span class="p">[</span><span class="s">'Material'</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s">'Material'</span><span class="p">].</span><span class="n">astype</span><span class="p">(</span><span class="s">'category'</span><span class="p">)</span>
<span class="n">data</span><span class="p">[</span><span class="s">'Test type'</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s">'Test type'</span><span class="p">].</span><span class="n">astype</span><span class="p">(</span><span class="s">'category'</span><span class="p">)</span>
<span class="n">data</span><span class="p">[</span><span class="s">'Ncycles'</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s">'Ncycles'</span><span class="p">].</span><span class="n">astype</span><span class="p">(</span><span class="s">'float64'</span><span class="p">)</span>
<span class="n">data</span><span class="p">[</span><span class="s">'Eic'</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s">'Eic'</span><span class="p">].</span><span class="n">astype</span><span class="p">(</span><span class="s">'float64'</span><span class="p">)</span>
</code></pre></div></div><p>The dtype conversion of <code class="language-plaintext highlighter-rouge">data['Eic']</code> is showing an error because of a string value in the column.</p><p>First we need to find all the string values in the column.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Eic should both be all float or int
</span><span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">u</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">'Eic'</span><span class="p">]):</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">u</span><span class="p">)</span> <span class="o">==</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">u</span><span class="p">)</span>
</code></pre></div></div><p>Row 325 has an error for Eic data; value has whitespaces <code class="language-plaintext highlighter-rouge">' '</code>. This is corrected by converting the string to a <code class="language-plaintext highlighter-rouge">np.nan</code> value.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">data</span><span class="p">[</span><span class="s">'Eic'</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">where</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s">'Eic'</span><span class="p">]</span> <span class="o">==</span> <span class="s">' '</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="n">nan</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="s">'Eic'</span><span class="p">])</span>

<span class="c1"># Try changing dtype again
</span><span class="n">data</span><span class="p">[</span><span class="s">'Eic'</span><span class="p">]</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s">'Eic'</span><span class="p">].</span><span class="n">astype</span><span class="p">(</span><span class="s">'float64'</span><span class="p">)</span>

<span class="c1"># check with data.info() or data.describe()
</span><span class="n">data</span><span class="p">.</span><span class="n">info</span><span class="p">()</span>
</code></pre></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
Index: 3068 entries, 0 to 3433
Data columns (total 11 columns):
 #   Column                 Non-Null Count  Dtype   
---  ------                 --------------  -----   
 0   Name                   3068 non-null   object  
 1   Fibre Volume Fraction  2729 non-null   float64 
 2   Material               3068 non-null   category
 3   Test type              3068 non-null   category
 4   smax,static            1518 non-null   float64 
 5   smax, fatigue          1752 non-null   float64 
 6   epsstatic              961 non-null    float64 
 7   epsfatigue             927 non-null    float64 
 8   Ncycles                2983 non-null   float64 
 9   Eit                    1759 non-null   float64 
 10  Eic                    1335 non-null   float64 
dtypes: category(2), float64(8), object(1)
</code></pre></div></div><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>       Fibre Volume Fraction  smax,static  smax, fatigue  epsstatic  epsfatigue      Ncycles      Eit      Eic
count               2729.000     1518.000       1752.000    961.000     927.000     2983.000 1759.000 1335.000
mean                  45.004      113.787        127.534      0.672       0.454   345061.136   26.331   29.376
std                   18.919      476.216        221.863      1.872       0.698  1514505.719    9.902    8.981
min                    0.000    -5274.270       -511.466     -3.846      -1.666        0.000    0.778   10.750
25%                   50.868     -387.185         42.627     -1.332       0.173        1.000   14.670   25.800
50%                   52.480      102.466        181.912      1.300       0.608     2452.000   27.530   28.619
75%                   53.730      505.058        264.490      2.121       0.910    91196.000   34.600   38.200
max                   56.660     1156.504        761.461      8.080       1.970 39393907.000   49.300   57.160
</code></pre></div></div><h2 id="prelim-exploratory-data-analysis---optidat-database"> <a href="#prelim-exploratory-data-analysis---optidat-database" class="anchor-heading" aria-labelledby="prelim-exploratory-data-analysis---optidat-database"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Prelim Exploratory Data Analysis - OptiDAT Database</h2><p>The data looks relatively clean and ready for some exploratory data analysis with visualizations.</p><p>Visualizing the data can be helpful to clean the data further. Looking at the raw data, the test type column has a lot of unique values. It might be helpful to visualize the top 10 test types.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Start by visualizing all Test Types
</span>
<span class="c1"># tt = data['Test type'].unique()
</span>
<span class="c1"># Test type pie chart (Top 10)
</span><span class="n">tt_counts</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s">'Test type'</span><span class="p">].</span><span class="n">value_counts</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="n">tt_counts</span><span class="p">)</span>

<span class="k">if</span> <span class="n">plot</span><span class="p">:</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">fig</span><span class="p">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s">'Top 10 test types and total replicates'</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">pie</span><span class="p">(</span><span class="n">tt_counts</span><span class="p">[:</span><span class="mi">10</span><span class="p">],</span>
            <span class="n">autopct</span><span class="o">=</span><span class="k">lambda</span> <span class="n">p</span><span class="p">:</span> <span class="s">'{:.0f}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">p</span> <span class="o">*</span> <span class="nb">sum</span><span class="p">(</span><span class="n">tt_counts</span><span class="p">[:</span><span class="mi">10</span><span class="p">])</span> <span class="o">/</span> <span class="mi">100</span><span class="p">),</span>
            <span class="n">labels</span> <span class="o">=</span> <span class="n">tt_counts</span><span class="p">.</span><span class="n">index</span><span class="p">[:</span><span class="mi">10</span><span class="p">])</span>
</code></pre></div></div><p><code class="language-plaintext highlighter-rouge">tt_counts</code> shows that the test type column has 83 unique values. The top 10 test types are shown in the pie chart.</p><p>To narrow the analysis and only include the important test types, top 3 test types are selected. The data is filtered to only include the top 3 test types - STT (Static Tensile), STC (Static Compression) and CA (Constant Amplitude Fatigue).</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Only keep CA, STT, and STC
</span>
<span class="n">tt_list</span> <span class="o">=</span> <span class="p">[</span><span class="s">'STT'</span><span class="p">,</span><span class="s">'STC'</span><span class="p">,</span><span class="s">'CA'</span><span class="p">]</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="n">data</span><span class="p">[</span><span class="s">'Test type'</span><span class="p">].</span><span class="n">isin</span><span class="p">(</span><span class="n">tt_list</span><span class="p">)]</span>

<span class="c1"># Plot the top 3 test types
</span><span class="k">if</span> <span class="n">plot</span><span class="p">:</span>
    
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">fig</span><span class="p">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s">'Top 3 test types and total replicates'</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">pie</span><span class="p">(</span><span class="n">tt_counts</span><span class="p">[:</span><span class="mi">3</span><span class="p">],</span>
            <span class="n">autopct</span><span class="o">=</span><span class="k">lambda</span> <span class="n">p</span><span class="p">:</span> <span class="s">'{:.0f}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">p</span> <span class="o">*</span> <span class="nb">sum</span><span class="p">(</span><span class="n">tt_counts</span><span class="p">[:</span><span class="mi">3</span><span class="p">])</span> <span class="o">/</span> <span class="mi">100</span><span class="p">),</span>
            <span class="n">labels</span> <span class="o">=</span> <span class="n">tt_counts</span><span class="p">[:</span><span class="mi">3</span><span class="p">].</span><span class="n">index</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">'./imgs/Pie_Chart_T3.png'</span><span class="p">)</span>
</code></pre></div></div><p>The preliminary data can be further grouped and analyzed by the major differtiator i.e. Test type.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Group data by Test Type for visualizations
</span><span class="n">tt_group</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">'Test type'</span><span class="p">,</span> <span class="n">observed</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">tensile_data</span> <span class="o">=</span> <span class="n">tt_group</span><span class="p">.</span><span class="n">get_group</span><span class="p">(</span><span class="s">'STT'</span><span class="p">)</span>
<span class="n">compression_data</span> <span class="o">=</span> <span class="n">tt_group</span><span class="p">.</span><span class="n">get_group</span><span class="p">(</span><span class="s">'STC'</span><span class="p">)</span>
<span class="n">fatigue_data</span> <span class="o">=</span> <span class="n">tt_group</span><span class="p">.</span><span class="n">get_group</span><span class="p">(</span><span class="s">'CA'</span><span class="p">)</span>

<span class="c1"># data head for tensile tests
</span><span class="n">tensile_data</span><span class="p">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</code></pre></div></div><p>Here is the data for the initial 10 tensile tests. Similar data are grouped for compression and fatigue (CA) tests.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>                  Name  Fibre Volume Fraction Material Test type  smax,static  smax, fatigue  epsstatic  epsfatigue  Ncycles    Eit  Eic
5   GEV201_D0100_0016                    NaN      GE1       STT      812.248            NaN      2.104         NaN    1.000 44.578  NaN
9   GEV201_D0100_0031                    NaN      GE1       STT      859.098            NaN      2.148         NaN    1.000 44.911  NaN
10  GEV201_R0100_0001                    NaN      GE1       STT      879.473            NaN        NaN         NaN    1.000 39.430  NaN
14  GEV201_R0100_0011                    NaN      GE1       STT      841.836            NaN        NaN         NaN    1.000 39.523  NaN
20  GEV201_R0100_0026                    NaN      GE1       STT      751.744            NaN     -1.960         NaN    1.000 39.190  NaN
26  GEV202_D0100_0001                    NaN      GE1       STT      712.281            NaN        NaN         NaN    1.000    NaN  NaN
28  GEV202_D0100_0006                    NaN      GE1       STT      688.875            NaN        NaN         NaN    1.000    NaN  NaN
38  GEV202_R0100_0006                    NaN      GE1       STT      689.609            NaN        NaN         NaN    1.000    NaN  NaN
40  GEV202_R0100_0011                    NaN      GE1       STT      675.225            NaN        NaN         NaN    1.000    NaN  NaN
59  GEV203_R0100_0001                    NaN      GE1       STT      483.126            NaN        NaN         NaN    1.000    NaN  NaN
</code></pre></div></div><p><code class="language-plaintext highlighter-rouge">np.nan</code> values in certain columns are expected as fatigue related test data will not be available for tensile and compression tests and vice versa.</p><p>Some easy visualizations can be done to understand the data better. For example, a box or violin plot to show the distribution of the data.</p><p>But first, the stress data for tensile must be cleaned to remove invalid values (negative values) and outliers.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Cleaning tensile data
</span><span class="n">tensile_data</span> <span class="o">=</span> <span class="n">tensile_data</span><span class="p">[</span><span class="n">tensile_data</span><span class="p">[</span><span class="s">'smax,static'</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span>
<span class="n">tensile_data</span><span class="p">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s">'smax,static'</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="c1"># Visualize the data
</span><span class="k">if</span> <span class="n">plot</span><span class="p">:</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">sns</span><span class="p">.</span><span class="n">violinplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">tensile_data</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">'smax,static'</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">'Probability Distribution Function (width ~ frequency)'</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s">'Max Stress - $\sigma_{max}$ (MPa) '</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Tensile Test Max Stress Distribution'</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">'./imgs/tensile_max_stress_dist.png'</span><span class="p">)</span>
</code></pre></div></div><p>Similarly the data for compression and fatigue tests can be cleaned and visualized.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">plot</span><span class="p">:</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">sns</span><span class="p">.</span><span class="n">violinplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">compression_data</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">'smax,static'</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">'Probability Distribution Function (width ~ frequency)'</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s">'Max Stress - $\sigma_{max}$ (MPa) '</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Compression Test Max Stress Distribution'</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">'./imgs/compression_max_stress_dist_not-clean.png'</span><span class="p">)</span>
</code></pre></div></div><p>However, we see that the compression data has some values that are positive. This is not expected for compression tests. The data is cleaned by removing the positive values.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Cleaning compression data
</span><span class="n">compression_data</span> <span class="o">=</span> <span class="n">compression_data</span><span class="p">[</span><span class="n">compression_data</span><span class="p">[</span><span class="s">'smax,static'</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">]</span>
<span class="n">compression_data</span><span class="p">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s">'smax,static'</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="k">if</span> <span class="n">plot</span><span class="p">:</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">sns</span><span class="p">.</span><span class="n">violinplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">compression_data</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">'smax,static'</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">'Probability Distribution Function (width ~ frequency)'</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s">'Max Stress - $\sigma_{max}$ (MPa) '</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Compression Test Max Stress Distribution'</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">'./imgs/compression_max_stress_dist.png'</span><span class="p">)</span>
</code></pre></div></div><p>Finally, the fatigue max stress data <code class="language-plaintext highlighter-rouge">smax, fatigue</code> is plotted.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">plot</span><span class="p">:</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">sns</span><span class="p">.</span><span class="n">violinplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">fatigue_data</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">'smax, fatigue'</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">'Probability Distribution Function (width ~ frequency)'</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s">'Max Stress (Fatigue) - $\sigma_{max}$ (MPa) '</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Fatigue Test Max Stress Distribution'</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">'./imgs/fatigue_max_stress_dist.png'</span><span class="p">)</span>
</code></pre></div></div><p>There is more to the fatigue data than just max stress. The values can be negative if the ratio of min to max stress is not 1. The ratio data is available in the <code class="language-plaintext highlighter-rouge">R-value1</code> column and will be utilized in the analysis later.</p><p>Now, the fatigue Ncycles data is visualized. Generally, this is done in a log plot.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Plot Ncycles as a function of smax, fatigue
</span>
<span class="k">if</span> <span class="n">plot</span><span class="p">:</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">sns</span><span class="p">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">fatigue_data</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s">'Ncycles'</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">'smax, fatigue'</span><span class="p">,</span>
                    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_xscale</span><span class="p">(</span><span class="s">'log'</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">'Number of cycles till failure'</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s">'Max Stress (Fatigue) - $\sigma_{max}$ (MPa) '</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'S-N Curve for Fatigue data'</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">'./imgs/fatigue_SN-curve.png'</span><span class="p">)</span>
</code></pre></div></div><p>There might be a relation to the material so the same plot is done with a hue for the material.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Same plot, Hue for material 
</span>
<span class="k">if</span> <span class="n">plot</span><span class="p">:</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">sns</span><span class="p">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">fatigue_data</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s">'Ncycles'</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">'smax, fatigue'</span><span class="p">,</span>
                    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s">'Material'</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_xscale</span><span class="p">(</span><span class="s">'log'</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">'Number of cycles till failure'</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s">'Max Stress (Fatigue) - $\sigma_{max}$ (MPa) '</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'S-N Curve for Fatigue data, Hue-Material'</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">'./imgs/fatigue_SN-curve_Material-hue.png'</span><span class="p">)</span>
</code></pre></div></div><p>Moving back to the tensile data, the tensile modulus data <code class="language-plaintext highlighter-rouge">Eit</code> is visualized as a function of the Fiber Volume Fraction in the material.</p><div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Check relation between Fiber Volume and Modulus for tensile data
</span><span class="k">if</span> <span class="n">plot</span><span class="p">:</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="p">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">sns</span><span class="p">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">tensile_data</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s">'Fibre Volume Fraction'</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s">'Eit'</span><span class="p">,</span> 
                    <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">)</span>

    <span class="n">ax</span><span class="p">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s">'Fibre Volume Fraction (%)'</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="sa">r</span><span class="s">'Elastic Modulus $E_t$ (MPa) '</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">ax</span><span class="p">.</span><span class="n">set_title</span><span class="p">(</span><span class="s">'Modulus vs FVF'</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">16</span><span class="p">)</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">savefig</span><span class="p">(</span><span class="s">'./imgs/E-vs-FVF.png'</span><span class="p">)</span>
</code></pre></div></div><p>Looks like there are two distinct groups in the data. This will be investigated later in the study.</p><p>All the plots are available in the Introduction section of the project as per the guidelines.</p></main><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><p class="text-small text-grey-dk-100 mb-0">Copyright &copy; <script>document.write(new Date().getFullYear())</script> <a href="https://github.com/hese1175/hese1175.github.io/">HS Website</a>. All rights reserved.</p><div class="d-flex mt-2"></div></footer></div></div><div class="search-overlay"></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@9.1.6/dist/mermaid.min.js"></script> <script> var config = {} ; mermaid.initialize(config); window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid')); </script>
